[Cursor 사용 AI 금융 분석 에이전트 제작 실습 질의문]

프로젝트 폴더명 : AI_Agent_Finance_Project

OpenAI API와 LangChain v1.0을 사용하여 "AI 금융 분석 · 리스크 평가 · 투자 리포트 자동 생성 에이전트" 프로젝트 전부를 만들어줘.
아래 요구사항을 모두 충족하는 완성형 프로젝트 코드를 생성해줘.

------------------------------------------------------------
1. 프로젝트 개요
------------------------------------------------------------
- 사용자가 특정 기업/종목/산업을 입력하면
  ① 최신 뉴스 요약  
  ② 재무 지표 분석  
  ③ 리스크 평가  
  ④ 투자 의견(중립/매수/매도)  
  ⑤ 전체 투자 리포트 자동 생성  
  을 수행하는 AI 금융 분석 Agent를 만든다.

- 사용자가 기업의 재무 이미지(재무제표 캡처 등)를 업로드하면  
  Vision API로 분석하여 텍스트 데이터로 추출하고 종합 분석에 반영한다.

- DuckDuckGo 또는 Yahoo Finance 검색 API를 Tool로 연결해  
  실시간 시장 정보·뉴스를 검색하고 에이전트가 자동 호출하도록 구성한다.

- 모든 기능은 LangChain v1.0 create_agent() 기반으로 통합한다.

------------------------------------------------------------
2. 기능 요구사항
------------------------------------------------------------

[1] 기업 기본 정보 분석  
- 기업명, 티커, 산업 등을 입력받아 관련 회사의 기본 정보를 요약한다.

[2] 뉴스 + 시장 정보 검색 Tool  
- DuckDuckGo 검색으로 최신 뉴스, 이슈, 분석 자료를 수집  
- 검색된 목록 → 요약 → 리포트에 포함

[3] 재무 지표 분석 Tool  
- 사용 예: ROE, PER, PBR, 매출/영업이익 성장률, 부채비율 등  
- 계산 함수는 더미 데이터 + 예시 구조로 작성  
- 이후 실제 API(예: Yahoo Finance)를 쉽게 붙일 수 있게 구조화

[4] 리스크 분석 Tool  
- 시장 리스크, 산업 리스크, 재무 리스크(부채, 유동성 등)  
- 요약 형태의 분석 내용 생성

[5] Vision 기반 재무제표 분석 Tool  
- 업로드된 이미지에서 숫자와 표 구조를 추출  
- 재무 분석에 반영

[6] RAG 기능 (선택적으로 기본적인 DB 구축)  
- 산업 리서치 문서 / 투자 가이드 문서를 RAG로 검색 가능하게 구성  
- Chroma/FAISS 중 하나 선택해서 구축

[7] 투자 리포트 자동 생성  
- 리서치 리포트 형태로  
  · 기업 개요  
  · 최근 뉴스 요약  
  · 재무 분석  
  · 리스크 분석  
  · 투자 의견(중립/매수/매도)  
  · 종합 결론  
- 마크다운 템플릿 기반으로 출력

[8] Streamlit UI  
- 기업/티커 입력  
- 이미지(재무표) 업로드  
- 분석 실행 버튼  
- 결과 시각화(요약/표/차트)

------------------------------------------------------------
3. 기술 요구사항
------------------------------------------------------------
- 전체 프로젝트 파일 구조 자동 생성
- 각 기능을 tools/ 모듈로 분리
- create_agent() 사용, system_prompt 포함
- .env 활용(OpenAI API Key)
- 환경 변수는 .env 파일을 다음과 같이 불러오기 :  load_dotenv("C:/env/.env")
- 재사용 가능하도록 함수 분리 + Vibe 코딩 스타일의 고품질 코드
- 그래프는 matplotlib 또는 plotly 중 선택
- 예외 처리 및 에러 로그 포함

-create_agent() 사용을 아래 소스와 같은 LangChain v1.0 최신 스타일로 수정해줘

from langchain.agents import create_agent

agent = create_agent(
    model="gpt-4o-mini",
    tools=[search_web, analyze_data, send_email],
    system_prompt="You are a helpful research assistant."
)

result = agent.invoke({
    "messages": [
        {"role": "user", "content": "Research AI safety trends"}
    ]
})

------------------------------------------------------------
4. 프로젝트 파일 구조 예시
------------------------------------------------------------

finance_agent/
  ├── main.py
  ├── agent/
  │     ├── finance_agent.py
  ├── tools/
  │     ├── news_search_tool.py
  │     ├── finance_calc_tool.py
  │     ├── risk_tool.py
  │     ├── image_finance_tool.py
  │     ├── rag_tool.py
  ├── utils/
  │     ├── logger.py
  │     ├── chart.py
  ├── rag/
  │     ├── rag_init.py
  │     ├── dataset/
  ├── ui/
  │     ├── app.py  (Streamlit UI)
  ├── requirements.txt
  ├── .env.example
  ├── README.md

이 구조 전체를 생성해줘.

------------------------------------------------------------
5. Streamlit UI 요구사항
------------------------------------------------------------
- 입력폼: 기업명, 티커(symbol), 산업, 분석 기간
- 이미지 업로드: 재무제표 스크린샷
- "분석 실행" 버튼
- 출력:  
  (1) 기업 개요  
  (2) 뉴스 요약  
  (3) 재무 분석 표/차트  
  (4) 리스크 분석  
  (5) 최종 투자 의견  
  (6) 다운로드 가능한 PDF 또는 마크다운 리포트

------------------------------------------------------------
6. 최종 출력 요구사항
------------------------------------------------------------
아래 항목을 모두 포함한 결과물을 작성해줘:

[1] 전체 파일 구조  
[2] 각 파일의 전체 코드  
[3] requirements.txt  
[4] README.md  
[5] Streamlit 실행 방법  
[6] 샘플 입력 + 예상 출력 예시  

교육용 실습 프로젝트로 사용 가능한 퀄리티로 완성해줘.

-----------------------------------------------------------------
[실행 방법]
cd ui
C:\Users\storm\anaconda3\python.exe -m streamlit run app.py

[입력 방법]
기업명: 삼성전자
산업: 반도체
티커 심볼 :  005930.KS
분석 기간: 최근 1년

